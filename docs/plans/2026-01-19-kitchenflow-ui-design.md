# KitchenFlow UI 交互设计文档

**版本**: v1.0  
**日期**: 2026-01-19  
**设计方法**: Superpowers Brainstorming + A2UI Protocol  

---

## 1. 产品概述

### 1.1 核心定位
**KitchenFlow** 是一个个人/家庭版智能厨房助手，核心理念是"不记账，只决策"。

### 1.2 设计原则
- **反向管理**: 拒绝"录入+维护"的商用模式
- **即时快照**: 每次扫描覆盖旧数据，保证决策基于"眼见为实"
- **输入零阻力**: 依赖拍照和语音，避免打字
- **延迟满足闭环**: 馋念 → 采购 → 烹饪

### 1.3 目标平台
📱 **移动端优先** (iOS/Android 原生应用)

### 1.4 视觉风格
🎨 **iOS 毛玻璃风格 (Glassmorphism)**
- 半透明模糊背景 (`backdrop-filter: blur(20px)`)
- 柔和的白色边框 (`1px solid rgba(255,255,255,0.3)`)
- 微妙的阴影和光泽
- 层次分明的卡片叠加感
- 背景透明度: `rgba(255,255,255,0.7)`

---

## 2. 信息架构

```
KitchenFlow
├── 🏠 首页 (Home)
│   ├── 相机取景框
│   ├── 毛玻璃快捷入口栏
│   └── 浮动按钮组 (扇形菜单)
│
├── 📸 扫描结果页 (Scan Results)
│   ├── 照片缩略图
│   ├── 食材列表 (按新鲜度排序)
│   └── 底部操作栏 (推荐菜谱/生成购物单)
│
├── 🍜 馋念清单 (Cravings Queue)
│   ├── 瀑布流图片展示
│   └── 语音输入栏
│
├── 🛒 购物清单 (Shopping List)
│   ├── 家庭协作状态栏
│   ├── 分类勾选列表
│   └── 分享功能
│
└── ⚙️ 设置 (Settings)
    ├── 常备品管理
    └── 用户偏好
```

---

## 3. 页面设计详解

### 3.1 首页 (Home Screen)

#### 布局结构
```
┌─────────────────────────────────┐
│         状态栏 (系统)            │
├─────────────────────────────────┤
│                                 │
│                                 │
│        📷 相机取景框             │
│         (占 70% 屏幕)            │
│                                 │
│                                 │
├─────────────────────────────────┤
│   ┌─────────────────────────┐   │
│   │  🍜    │    🛒    │  ⚙️  │   │  ← 毛玻璃快捷入口栏
│   │ 馋念   │  购物单  │ 设置 │   │
│   └─────────────────────────┘   │
│                                 │
│            ⭕                   │  ← 浮动快门按钮
│         (快门)                   │
└─────────────────────────────────┘
```

#### 视觉层次 (从底到顶)
1. **Layer 0** - 实时相机取景框（全屏背景）
2. **Layer 1** - 顶部毛玻璃状态栏（时间 + 电量 + App Logo）
3. **Layer 2** - 底部毛玻璃快捷入口栏（馋念 / 购物单 / 设置）
4. **Layer 3** - 中央浮动快门按钮（主交互入口）

#### 浮动按钮组交互
```
    默认状态              点击展开后
       ⭕                   📸 拍照
    (快门)          🍜 馋念    🛒 购物单
                          ⭕ 
                        (收起)
```

#### 手势支持
| 手势 | 操作 |
|------|------|
| 点击快门 | 拍照扫描冰箱 |
| 长按快门 | 录像模式（扫描整个冰箱内部） |
| 上滑快门 | 快速进入馋念清单 |
| 左滑屏幕 | 查看最近一次扫描结果 |

---

### 3.2 扫描结果页 (Scan Results)

#### 布局结构
```
┌─────────────────────────────────┐
│  ← 返回        扫描结果    编辑  │  ← 毛玻璃导航栏
├─────────────────────────────────┤
│  ┌───────────────────────────┐  │
│  │                           │  │
│  │    📷 冰箱照片缩略图       │  │  ← 占 35% 屏幕
│  │    (可点击放大查看)        │  │
│  │                           │  │
│  └───────────────────────────┘  │
├─────────────────────────────────┤
│  🥬 生鲜食材 (5)                │  ← 分类标题
│  ┌─────────────────────────────┐│
│  │ 🟢 西兰花      新鲜 | 3天内  ││
│  │ 🟡 牛奶        建议今天用   ││
│  │ 🟡 鸡蛋 x6     还剩3天      ││
│  │ 🔴 生菜        已不新鲜     ││
│  │ 🟢 胡萝卜      新鲜 | 1周   ││
│  └─────────────────────────────┘│
│                                 │
│  🥫 其他 (2)                    │
│  ┌─────────────────────────────┐│
│  │ ⚪ 豆腐        保质期内     ││
│  │ ⚪ 酱油        常备品       ││
│  └─────────────────────────────┘│
├─────────────────────────────────┤
│ [🍳 推荐菜谱]  [🛒 生成购物单]  │  ← 毛玻璃底部操作栏
└─────────────────────────────────┘
```

#### 新鲜度色彩系统
| 颜色 | 含义 | Hex 值 |
|------|------|--------|
| 🟢 绿色 | 新鲜，可放心使用 | `#34C759` |
| 🟡 黄色 | 建议尽快食用 | `#FFCC00` |
| 🔴 红色 | 优先消耗，可能已不新鲜 | `#FF3B30` |
| ⚪ 灰色 | 常备品/无需关注新鲜度 | `#8E8E93` |

#### 交互细节
| 操作 | 效果 |
|------|------|
| 左滑食材 | 删除误识别项 |
| 点击食材 | 弹出修正选项（更改名称/新鲜度） |
| 长按拖拽 | 调整顺序 |
| 新鲜度条 | 带渐变动画的进度条 |

---

### 3.3 馋念清单页 (Cravings Queue)

#### 布局结构 - 小红书风格瀑布流
```
┌─────────────────────────────────┐
│  ← 返回      我的馋念 🍜    ➕   │  ← 毛玻璃导航栏
├─────────────────────────────────┤
│  ┌──────────┐  ┌──────────┐    │
│  │ 🖼️       │  │ 🖼️       │    │
│  │ 冬阴功汤  │  │          │    │
│  │          │  │ 红烧肉   │    │
│  │ 💬 想吃！ │  │          │    │
│  └──────────┘  │ 💬 周末做 │    │
│  ┌──────────┐  └──────────┘    │
│  │ 🖼️       │  ┌──────────┐    │  ← 双列瀑布流
│  │          │  │ 🖼️       │    │    不等高布局
│  │ 意大利面  │  │ 寿司拼盘 │    │
│  │          │  │          │    │
│  │          │  └──────────┘    │
│  │ 💬 简单   │  ┌──────────┐    │
│  └──────────┘  │ 🖼️       │    │
│  ┌──────────┐  │ Mac&Cheese│   │
│  │ 🖼️ 抹茶  │  └──────────┘    │
│  │ 蛋糕     │                  │
│  └──────────┘                  │
├─────────────────────────────────┤
│     🎤 "Hey, 我想吃..."        │  ← 毛玻璃语音输入栏
└─────────────────────────────────┘
```

#### 馋念卡片结构
```
┌────────────────────┐
│  🖼️ 美食图片        │  ← 自动抓取或用户上传
│                    │
│                    │
│  ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓  │  ← 渐变遮罩
│  冬阴功汤      🎤   │  ← 菜名 + 来源标签
│  💬 想吃！         │  ← 用户备注
└────────────────────┘
```

#### 来源标签
| 图标 | 来源 |
|------|------|
| 🎤 | 语音输入 |
| 📱 | 分享链接（小红书/YouTube） |
| ✍️ | 手动添加 |

#### 添加馋念方式
1. **语音** - 底部语音输入栏，支持 Siri/Google Assistant
2. **分享** - 从小红书/YouTube/Instagram 分享食谱链接
3. **手动** - 点击右上角 ➕ 按钮

---

### 3.4 购物清单页 (Shopping List)

#### 布局结构
```
┌─────────────────────────────────┐
│  ← 返回     购物清单 🛒   📤分享 │  ← 毛玻璃导航栏
├─────────────────────────────────┤
│  👨‍👩‍👧 家庭协作中  ●爸爸在线 ●妈妈在线│  ← 协作状态栏
├─────────────────────────────────┤
│  🥬 生鲜 Fresh (4)         ▼    │
│  ┌─────────────────────────────┐│
│  │ ☐ 虾 500g                  ││
│  │   └ 📍 为了做「冬阴功」     ││  ← 购买理由
│  │ ☐ 香茅 2根                 ││
│  │   └ 📍 为了做「冬阴功」     ││
│  │ ☑ 柠檬叶 ✓ 妈妈已购        ││  ← 协作勾选
│  │ ☐ 牛肉 300g                ││
│  │   └ 📍 为了做「红烧肉」     ││
│  └─────────────────────────────┘│
│                                 │
│  🥫 干货 Pantry (2)        ▼    │
│  ┌─────────────────────────────┐│
│  │ ☐ 椰浆 1罐                 ││
│  │   └ ⚠️ 常备品告急提醒       ││  ← 常备品补货
│  │ ☐ 意大利面 1包             ││
│  └─────────────────────────────┘│
├─────────────────────────────────┤
│  已完成 (1)                ▶    │  ← 可折叠
├─────────────────────────────────┤
│ [清空已购]     [🧠 智能补充]    │  ← 毛玻璃底部栏
└─────────────────────────────────┘
```

#### 协作分享功能
| 功能 | 描述 |
|------|------|
| 一键分享 | 生成微信/短信链接 |
| 实时同步 | 家人勾选即时更新 |
| 头像标注 | 显示谁购买了哪项 |
| 语音备注 | 可为单项添加语音说明 |

#### 智能功能
| 功能 | 描述 |
|------|------|
| 智能补充 | 根据馋念自动建议添加食材 |
| 常备品提醒 | 积分耗尽时自动加入清单 |
| 分类排序 | 按生鲜/干货自动分组 |

---

## 4. A2UI 组件映射

### 4.1 页面与组件对照表

| KitchenFlow 页面 | A2UI 组件 |
|------------------|-----------|
| **首页** | |
| 相机取景框 | `Image` (url: camera stream) |
| 毛玻璃导航栏 | `Row` + `Card` (透明样式) |
| 快捷入口图标 | `Icon` + `Button` |
| 浮动按钮组 | `Modal` + `Button` |
| **扫描结果页** | |
| 照片缩略图 | `Image` (usageHint: header) |
| 食材列表 | `List` + `Column` (template) |
| 食材卡片 | `Card` + `Row` |
| 新鲜度指示 | `Text` (颜色绑定 dataModel) |
| 底部操作栏 | `Row` + `Button` |
| **馋念清单页** | |
| 瀑布流容器 | `List` (direction: vertical) |
| 馋念卡片 | `Card` + `Column` |
| 美食图片 | `Image` (fit: cover) |
| 菜名标题 | `Text` (usageHint: h3) |
| 语音输入栏 | `TextField` + `Icon` |
| **购物清单页** | |
| 协作状态栏 | `Row` + `Text` + `Icon` |
| 分类折叠组 | `Tabs` 或 `Column` |
| 购物项 | `CheckBox` + `Text` |
| 购买理由 | `Text` (usageHint: caption) |
| 分享按钮 | `Button` (action: share) |

### 4.2 数据模型 (dataModel) 结构

```json
{
  "user": {
    "name": "用户名",
    "avatar": "url"
  },
  "freshStock": [
    {
      "id": "item_001",
      "name": "西兰花",
      "freshness": "green",
      "daysLeft": 3,
      "quantity": 1
    }
  ],
  "pantryStaples": [
    {
      "id": "staple_001",
      "name": "酱油",
      "score": 80,
      "lastChecked": "2026-01-15"
    }
  ],
  "cravings": [
    {
      "id": "craving_001",
      "name": "冬阴功汤",
      "imageUrl": "url",
      "source": "voice",
      "note": "想吃！",
      "createdAt": "2026-01-18"
    }
  ],
  "shoppingList": [
    {
      "id": "shop_001",
      "name": "虾",
      "quantity": "500g",
      "category": "fresh",
      "reason": "为了做「冬阴功」",
      "checked": false,
      "checkedBy": null
    }
  ],
  "familyMembers": [
    {
      "id": "member_001",
      "name": "爸爸",
      "avatar": "url",
      "online": true
    }
  ]
}
```

---

## 5. 样式规范

### 5.1 毛玻璃效果参数

```css
.glassmorphism {
  background: rgba(255, 255, 255, 0.7);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.3);
  border-radius: 16px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
}

.glassmorphism-dark {
  background: rgba(0, 0, 0, 0.5);
  backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.1);
}
```

### 5.2 色彩系统

| 用途 | 颜色名 | Hex |
|------|--------|-----|
| 主色调 | Primary Blue | `#007AFF` |
| 新鲜 | Fresh Green | `#34C759` |
| 警告 | Warning Yellow | `#FFCC00` |
| 紧急 | Urgent Red | `#FF3B30` |
| 中性 | Neutral Gray | `#8E8E93` |
| 背景 | Background | `#F2F2F7` |
| 文字主 | Text Primary | `#000000` |
| 文字次 | Text Secondary | `#6C6C70` |

### 5.3 字体规范

| 用途 | 字号 | 字重 |
|------|------|------|
| H1 大标题 | 28px | Bold |
| H2 标题 | 22px | Semibold |
| H3 副标题 | 17px | Semibold |
| Body 正文 | 17px | Regular |
| Caption 说明 | 13px | Regular |

### 5.4 间距规范

| 名称 | 值 |
|------|-----|
| XS | 4px |
| S | 8px |
| M | 16px |
| L | 24px |
| XL | 32px |
| XXL | 48px |

---

## 6. 交互动效

### 6.1 页面转场
- **Push 推入**: 页面从右侧滑入
- **Modal 弹出**: 页面从底部升起 (带毛玻璃背景遮罩)
- **Fade 渐变**: 扫描结果叠加在相机画面上

### 6.2 微交互
| 元素 | 动效 |
|------|------|
| 快门按钮 | 点击时缩放 + 脉冲动画 |
| 扇形菜单展开 | 弹性缓动 (spring) |
| 食材左滑删除 | 滑动 + 淡出 |
| 勾选购物项 | 打勾 + 划线动画 |
| 新鲜度条 | 渐变填充动画 |

### 6.3 动效曲线
```
Spring:  tension: 300, friction: 20
EaseOut: cubic-bezier(0.33, 1, 0.68, 1)
```

---

## 7. MVP 开发优先级

### Phase 1: 核心闭环 (The "Brain")
- [ ] 首页相机扫描
- [ ] AI 食材识别
- [ ] 扫描结果展示
- [ ] 基础菜谱推荐

### Phase 2: 需求连接 (The "Voice")
- [ ] 馋念清单
- [ ] 语音输入 (Siri/Google)
- [ ] 智能购物清单算法

### Phase 3: 协作与生态 (The "Legs")
- [ ] 家庭协作分享
- [ ] 常备品积分系统
- [ ] 超市地图集成

---

## 附录: 设计决策记录

| 决策 | 选择 | 理由 |
|------|------|------|
| 目标平台 | 移动端优先 | 符合"站在冰箱前扫描"场景 |
| 首页布局 | 相机+快捷入口 | 平衡极简与可发现性 |
| 扫描结果 | 分屏列表 | 清晰直观，便于修正 |
| 馋念清单 | 瀑布流 | 激发情绪价值，视觉冲击力 |
| 购物清单 | 勾选+协作 | 家庭场景实用性 |
| 视觉风格 | iOS 毛玻璃 | 现代高级感，配合相机背景 |
| 导航模式 | 浮动扇形按钮 | 创意独特，配合毛玻璃效果 |

---

*文档生成时间: 2026-01-19*  
*设计工具: Superpowers Brainstorming + A2UI Protocol*
