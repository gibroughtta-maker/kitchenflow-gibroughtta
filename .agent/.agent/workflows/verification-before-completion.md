---
description: 关于完成前必须验证工作的规则 - 要求运行验证命令并确认输出后才能做任何成功声明
---

# 完成前验证

## 第一性原理

**为什么必须验证？** 未验证的声明是谎言，不是效率。"应该可以了"不是证据。

**核心公理：**
1. 证据 > 信心 - 你觉得对不代表真的对
2. 新鲜验证 > 记忆 - 代码状态会变，之前的验证不算数
3. 完整输出 > 部分检查 - 局部通过不代表全局通过

## 铁律

```
没有新鲜验证证据，不要声称完成
```

如果你这条消息中没有运行验证命令，你没资格声称它通过。

## 门控函数

```
在声称任何状态或表达满意之前：

1. 识别：什么命令能证明这个声明？
2. 运行：执行完整命令（新鲜、完整）
3. 阅读：完整输出，检查退出码，数失败数
4. 验证：输出确认了声明吗？
   - 如果否：陈述实际状态和证据
   - 如果是：陈述声明并附上证据
5. 然后才能：做出声明

跳过任何步骤 = 撒谎，不是验证
```

## 常见失败

| 声明 | 需要 | 不够 |
|------|------|------|
| 测试通过 | 测试命令输出：0 失败 | 之前的运行，"应该通过" |
| Linter 干净 | Linter 输出：0 错误 | 部分检查，外推 |
| 构建成功 | 构建命令：exit 0 | Linter 通过，日志看着不错 |
| Bug 修复 | 测试原始症状：通过 | 改了代码，假设修好了 |
| 需求满足 | 逐行清单验证 | 测试通过 |

## 危险信号 - 停止

- 使用"应该"、"可能"、"看起来"
- 验证前表达满意（"太好了！"、"完美！"、"搞定！"）
- 没验证就准备提交/推送/PR
- 依赖部分验证
- 想着"就这一次"
- 累了想赶紧结束工作
- **任何暗示成功但没运行验证的措辞**

## 借口预防

| 借口 | 现实 |
|------|------|
| "应该能用了" | 运行验证 |
| "我很有信心" | 信心 ≠ 证据 |
| "就这一次" | 没有例外 |
| "Linter 通过了" | Linter ≠ 编译器 |
| "我累了" | 疲劳 ≠ 借口 |
| "部分检查够了" | 部分什么都不证明 |

## 关键模式

**测试：**
```
✅ [运行测试命令] [看到：34/34 通过] "所有测试通过"
❌ "应该通过了" / "看起来对"
```

**构建：**
```
✅ [运行构建] [看到：exit 0] "构建通过"
❌ "Linter 通过了"（linter 不检查编译）
```

## 底线

**验证没有捷径。**

运行命令。读取输出。然后才能声称结果。

这不可商量。
