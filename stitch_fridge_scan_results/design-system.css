/**
 * KitchenFlow 设计稿 - 设计系统 CSS
 * 来源: stitch_fridge_scan_results 各页面
 * 与 Tailwind 配合使用，在 tailwind.config 中合并 tailwind-theme.js 的 theme.extend
 */

/* ========== 基础 / 布局 ========== */

.no-scrollbar::-webkit-scrollbar {
  display: none;
}
.no-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

/* ========== 冰箱扫描结果页 - 沉浸式背景 ========== */

.immersive-bg {
  background-size: cover;
  background-position: center;
}
.immersive-overlay {
  background: rgba(15, 23, 42, 0.45);
  backdrop-filter: blur(40px) saturate(180%);
  -webkit-backdrop-filter: blur(40px) saturate(180%);
}

/* ========== 液态玻璃卡片 (Fridge Scan / 深色背景) ========== */

.liquid-card {
  background: rgba(255, 255, 255, 0.15);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.3);
  border-top: 1px solid rgba(255, 255, 255, 0.5);
  border-left: 1px solid rgba(255, 255, 255, 0.4);
  box-shadow:
    0 8px 32px 0 rgba(0, 0, 0, 0.2),
    inset 0 0 0 1px rgba(255, 255, 255, 0.1);
}

.liquid-bubble-icon {
  background: radial-gradient(
    circle at 30% 30%,
    rgba(255, 255, 255, 0.9),
    rgba(255, 255, 255, 0.4)
  );
  box-shadow:
    inset -2px -2px 6px rgba(0, 0, 0, 0.1),
    2px 4px 8px rgba(0, 0, 0, 0.15);
  border: 1px solid rgba(255, 255, 255, 0.6);
}

/* 状态标签 - 绿/黄/红 */
.liquid-tag-green {
  background: rgba(34, 197, 94, 0.25);
  border: 1px solid rgba(34, 197, 94, 0.4);
  color: #dcfce7;
  text-shadow: 0 0 10px rgba(34, 197, 94, 0.6);
  box-shadow: 0 0 15px rgba(34, 197, 94, 0.2);
}
.liquid-tag-yellow {
  background: rgba(234, 179, 8, 0.25);
  border: 1px solid rgba(234, 179, 8, 0.4);
  color: #fef9c3;
  text-shadow: 0 0 10px rgba(234, 179, 8, 0.6);
  box-shadow: 0 0 15px rgba(234, 179, 8, 0.2);
}
.liquid-tag-red {
  background: rgba(239, 68, 68, 0.25);
  border: 1px solid rgba(239, 68, 68, 0.4);
  color: #fee2e2;
  text-shadow: 0 0 10px rgba(239, 68, 68, 0.6);
  box-shadow: 0 0 15px rgba(239, 68, 68, 0.2);
}

/* 底部操作栏 */
.liquid-bar {
  background: rgba(0, 0, 0, 0.4);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border-top: 1px solid rgba(255, 255, 255, 0.15);
}

/* 图片/扫描框玻璃边框 */
.glass-frame {
  border: 2px solid rgba(255, 255, 255, 0.3);
  box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);
}

/* 玻璃态文字 */
.text-glass-primary {
  color: rgba(255, 255, 255, 0.95);
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}
.text-glass-secondary {
  color: rgba(255, 255, 255, 0.7);
}

/* ========== 弹窗 - 奶玻璃模态 ========== */

.milky-glass-modal {
  background: rgba(255, 255, 255, 0.25);
  backdrop-filter: blur(35px);
  -webkit-backdrop-filter: blur(35px);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-shadow:
    0 20px 50px rgba(0, 0, 0, 0.3),
    inset 0 0 0 1px rgba(255, 255, 255, 0.2),
    inset 0 0 60px rgba(255, 255, 255, 0.1);
}

.pill-button {
  background: rgba(255, 255, 255, 0.15);
  border: 1px solid rgba(255, 255, 255, 0.4);
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
  transition: all 0.2s ease;
}
.pill-button:active {
  transform: scale(0.98);
  background: rgba(255, 255, 255, 0.25);
}

/* ========== Cravings Queue / 浅色 - 玻璃面板 ========== */

.glass-panel {
  background: rgba(255, 255, 255, 0.65);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.02), 0 2px 4px -1px rgba(0, 0, 0, 0.02);
}
.dark .glass-panel {
  background: rgba(30, 41, 59, 0.7);
  border: 1px solid rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
}

.glass-card-overlay {
  background: rgba(255, 255, 255, 0.75);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border-top: 1px solid rgba(255, 255, 255, 0.4);
}
.dark .glass-card-overlay {
  background: rgba(15, 25, 35, 0.75);
  border-top: 1px solid rgba(255, 255, 255, 0.1);
}

.liquid-modal {
  background: rgba(255, 255, 255, 0.85);
  backdrop-filter: blur(24px);
  -webkit-backdrop-filter: blur(24px);
  border: 1px solid rgba(255, 255, 255, 0.6);
  box-shadow:
    0 25px 50px -12px rgba(0, 0, 0, 0.15),
    inset 0 2px 4px rgba(255, 255, 255, 0.9);
}
.dark .liquid-modal {
  background: rgba(30, 41, 59, 0.85);
  border: 1px solid rgba(255, 255, 255, 0.15);
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5),
    inset 0 1px 1px rgba(255, 255, 255, 0.1);
}

/* ========== Family Shopping List - 玻璃卡片与液滴 ========== */

.glass-panel-thick {
  background: rgba(255, 255, 255, 0.75);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.8);
  box-shadow: 0 8px 32px rgba(31, 38, 135, 0.1);
}
.dark .glass-panel-thick {
  background: rgba(30, 41, 59, 0.6);
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 4px 30px rgba(0, 0, 0, 0.2);
}

.glass-card {
  background: rgba(255, 255, 255, 0.45);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.02);
}
.dark .glass-card {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid rgba(255, 255, 255, 0.05);
}

.liquid-droplet {
  background: linear-gradient(145deg, rgba(255, 255, 255, 0.9), rgba(255, 255, 255, 0.4));
  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);
  border: 1px solid rgba(255, 255, 255, 0.8);
  border-bottom: 2px solid rgba(255, 255, 255, 0.4);
  box-shadow:
    0 4px 6px rgba(0, 0, 0, 0.02),
    inset 0 4px 6px rgba(255, 255, 255, 0.9),
    inset 0 -2px 4px rgba(0, 0, 0, 0.02);
  border-radius: 9999px;
}
.dark .liquid-droplet {
  background: linear-gradient(145deg, rgba(30, 41, 59, 0.8), rgba(30, 41, 59, 0.4));
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
}

.liquid-pill-header {
  background: linear-gradient(to bottom, rgba(255, 255, 255, 0.95), rgba(255, 255, 255, 0.8));
  backdrop-filter: blur(24px);
  -webkit-backdrop-filter: blur(24px);
  border: 1px solid rgba(255, 255, 255, 0.9);
  box-shadow:
    0 8px 32px rgba(0, 0, 0, 0.03),
    inset 0 1px 1px rgba(255, 255, 255, 1),
    inset 0 -4px 8px rgba(230, 240, 255, 0.4);
}
.dark .liquid-pill-header {
  background: linear-gradient(to bottom, rgba(30, 41, 59, 0.9), rgba(30, 41, 59, 0.7));
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
}

/* ========== 购物清单 - 复选框样式 ========== */

.shopping-list-checkbox {
  appearance: none;
  -webkit-appearance: none;
  display: inline-block;
  vertical-align: middle;
  background-origin: border-box;
  user-select: none;
  flex-shrink: 0;
  border-radius: 9999px;
}
.shopping-list-checkbox:checked {
  background-color: #007bff;
  border-color: #007bff;
}

details summary::-webkit-details-marker {
  display: none;
}
details[open] .expand-icon {
  transform: rotate(180deg);
}

.safe-area-bottom {
  padding-bottom: env(safe-area-inset-bottom);
}

/* ========== 通知/深色玻璃 (Liquid Glass Notifications) ========== */

.liquid-glass-bg {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(25px);
  -webkit-backdrop-filter: blur(25px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  box-shadow: 0 20px 50px rgba(0, 0, 0, 0.15);
}
.dark .liquid-glass-bg {
  background: rgba(20, 20, 20, 0.4);
  border: 1px solid rgba(255, 255, 255, 0.08);
}

.droplet-card {
  background: linear-gradient(
    145deg,
    rgba(255, 255, 255, 0.4) 0%,
    rgba(255, 255, 255, 0.1) 100%
  );
  box-shadow:
    inset 0 1px 1px rgba(255, 255, 255, 0.4),
    0 4px 15px rgba(0, 0, 0, 0.05);
}
.dark .droplet-card {
  background: linear-gradient(
    145deg,
    rgba(255, 255, 255, 0.1) 0%,
    rgba(255, 255, 255, 0.03) 100%
  );
  box-shadow:
    inset 0 1px 1px rgba(255, 255, 255, 0.1),
    0 4px 15px rgba(0, 0, 0, 0.2);
}

.fluid-icon {
  background: radial-gradient(
    circle at 30% 30%,
    rgba(255, 255, 255, 0.8),
    rgba(255, 255, 255, 0.2)
  );
}
.dark .fluid-icon {
  background: radial-gradient(
    circle at 30% 30%,
    rgba(255, 255, 255, 0.2),
    rgba(255, 255, 255, 0.05)
  );
}

.wet-shimmer {
  position: relative;
  overflow: hidden;
}
.wet-shimmer::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 50%;
  height: 100%;
  background: linear-gradient(
    to right,
    transparent,
    rgba(255, 255, 255, 0.3),
    transparent
  );
  transform: skewX(-25deg);
  animation: shimmer 6s infinite;
}
@keyframes shimmer {
  0% {
    left: -100%;
  }
  20% {
    left: 200%;
  }
  100% {
    left: 200%;
  }
}

/* ========== 库存页 - 新拟态液滴 (All Storage Inventory) ========== */

.liquid-droplet-neo {
  background: linear-gradient(145deg, #ffffff, #f3f4f6);
  border-radius: 2rem 3rem 3rem 2rem / 3rem 2rem 2rem 3rem;
  box-shadow:
    -4px -4px 10px rgba(255, 255, 255, 1),
    4px 4px 10px rgba(217, 219, 228, 0.6),
    inset 2px 2px 4px rgba(255, 255, 255, 0.8),
    inset -2px -2px 4px rgba(0, 0, 0, 0.02);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.6);
}
.liquid-droplet-neo:hover {
  transform: scale(1.02);
  box-shadow:
    -5px -5px 12px rgba(255, 255, 255, 1),
    5px 5px 12px rgba(217, 219, 228, 0.8),
    inset 2px 2px 4px rgba(255, 255, 255, 0.9),
    inset -2px -2px 4px rgba(0, 0, 0, 0.01);
}

.liquid-pill-neo {
  background: linear-gradient(145deg, #ffffff, #f0f2f5);
  border-radius: 9999px;
  box-shadow:
    -4px -4px 10px rgba(255, 255, 255, 1),
    4px 4px 10px rgba(217, 219, 228, 0.6),
    inset 2px 2px 4px rgba(255, 255, 255, 0.8),
    inset -2px -2px 4px rgba(0, 0, 0, 0.02);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.6);
}

.liquid-button-circle-neo {
  background: linear-gradient(145deg, #ffffff, #f3f4f6);
  box-shadow:
    -3px -3px 6px rgba(255, 255, 255, 1),
    3px 3px 6px rgba(217, 219, 228, 0.6),
    inset 1px 1px 2px rgba(255, 255, 255, 0.8),
    inset -1px -1px 2px rgba(0, 0, 0, 0.02);
  border: 1px solid rgba(255, 255, 255, 0.8);
}
.liquid-button-circle-neo:hover {
  transform: translateY(-1px);
  box-shadow:
    -4px -4px 8px rgba(255, 255, 255, 1),
    4px 4px 8px rgba(217, 219, 228, 0.7),
    inset 1px 1px 2px rgba(255, 255, 255, 0.9),
    inset -1px -1px 2px rgba(0, 0, 0, 0.01);
}
